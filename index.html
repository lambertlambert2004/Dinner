<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>School Dinner Menu â€” Swansea 2025</title>

<!-- iOS Home Screen Icon using GitHub Pages URL -->
<link rel="apple-touch-icon" sizes="180x180" href="https://lambertlambert2004.github.io/Dinner/icon-180.PNG">

<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin:0; padding:20px; background:#f2f2f7; color:#1c1c1e;
  }
  h1 { text-align:center; margin-bottom:25px; font-weight:600; font-size:1.8rem; }
  #menuCards { display:flex; flex-direction:column; gap:18px; }

  .card {
    background:linear-gradient(145deg,#ffffff,#f9f9f9);
    padding:18px 22px; border-radius:20px;
    box-shadow:0 4px 12px rgba(0,0,0,0.08);
    position:relative; display:flex; flex-direction:column;
    transition:all 0.3s ease, transform 0.3s ease;
    opacity:0; transform:translateY(20px) scale(0.98);
    animation:slideIn 0.5s forwards;
  }
  .card.packed { background:linear-gradient(145deg,#fff9d6,#fff4b2); }
  .card.other-day { background:linear-gradient(145deg,#e6fff2,#dfffe0); }
  .card.tomorrow { border:3px solid #ffb3b3; }

  @keyframes slideIn { to { opacity:1; transform:translateY(0) scale(1);} }

  .card h2 { margin:0 0 12px; font-size:1.4rem; font-weight:600; }
  .menu { white-space:pre-line; margin-bottom:15px; font-size:1rem; line-height:1.5; color:#333; }

  .label {
    position:absolute; top:12px; right:18px; font-size:0.75rem; font-weight:600;
    color:#fff; padding:4px 8px; border-radius:12px; z-index:1;
  }
  .label.today { background:#007aff; }
  .label.tomorrow { background:#ff3b30; }
  .label.menu-end { background:#8e8e93; }

  .toggle { position:relative; display:inline-block; width:60px; height:34px; margin-top:auto; }
  .toggle input { opacity:0; width:0; height:0; }
  .slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background-color:#ccc; transition:.4s; border-radius:34px; }
  .slider:before {
    position:absolute; content:""; height:26px; width:26px; left:4px; bottom:4px;
    background-color:white; transition:.2s; border-radius:50%;
  }
  input:checked + .slider { background-color:#34c759; }
  input:checked + .slider:before { transform:translateX(26px); }

  footer { margin-top:28px; text-align:center; font-size:.85rem; color:#8e8e93; }
</style>
</head>
<body>
<h1>School Dinner Menu</h1>
<div id="menuCards"></div>
<footer>Baked salmon available every Friday as an alternative. Data last updated per Swansea Council 2025.</footer>

<script>
const MENUS = {
  Monday: "Oven baked sausages / Vegetarian sausage\nAccompaniments\nFruit / Biscuit",
  Tuesday: "BBQ chicken wrap / Cheese and tomato pizza\nAccompaniments\nFruit yoghurt / Fresh fruit",
  Wednesday: "Cheesy beany jacket / Breaded chicken steak\nAccompaniments\nPancake and fruit",
  Thursday: "Cottage pie / Tomato pasta bake\nAccompaniments\nCookie / Fresh fruit",
  Friday: "Baked fish / Cheese wrap\nAccompaniments\nJam split and fruit wedge"
};

let today = new Date();
const weekdays = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
const todayName = weekdays[today.getDay()];
let tomorrow = new Date(); tomorrow.setDate(tomorrow.getDate()+1);
if(tomorrow.getDay()===6) tomorrow.setDate(tomorrow.getDate()+2);
if(tomorrow.getDay()===0) tomorrow.setDate(tomorrow.getDate()+1);
const tomorrowName = weekdays[tomorrow.getDay()];

let packedLunch = JSON.parse(localStorage.getItem('packedLunch') || '{}');
const container = document.querySelector("#menuCards");

const menuEndWeekStart = new Date("2025-12-15");
const menuEndWeekEnd = new Date("2025-12-20");

["Monday","Tuesday","Wednesday","Thursday","Friday"].forEach((day,i) => {
  const card = document.createElement("div");
  card.classList.add("card", packedLunch[day] ? "packed" : "other-day");
  if(day === tomorrowName) card.classList.add("tomorrow");

  const h2 = document.createElement("h2"); h2.textContent = day; card.appendChild(h2);
  const menu = document.createElement("div"); menu.classList.add("menu"); menu.textContent = MENUS[day] || "No data";

  const currentWeekDate = new Date(today);
  const dayIndex = weekdays.indexOf(day);
  currentWeekDate.setDate(currentWeekDate.getDate() + (dayIndex - currentWeekDate.getDay()));

  const labelSpan = document.createElement("span");
  if(day === todayName){ labelSpan.textContent = "Today"; labelSpan.classList.add("label","today"); }
  else if(day === tomorrowName){ labelSpan.textContent = "Tomorrow"; labelSpan.classList.add("label","tomorrow"); }
  else if(currentWeekDate >= menuEndWeekStart && currentWeekDate <= menuEndWeekEnd){ labelSpan.textContent = "Menu Ends"; labelSpan.classList.add("label","menu-end"); }

  menu.appendChild(labelSpan);
  card.appendChild(menu);

  const label = document.createElement("label"); label.classList.add("toggle");
  const input = document.createElement("input"); input.type="checkbox"; input.checked=!!packedLunch[day];
  const slider = document.createElement("span"); slider.classList.add("slider");
  label.appendChild(input); label.appendChild(slider); card.appendChild(label);

  input.addEventListener("change", e=>{
    const isChecked = input.checked;
    const action = isChecked ? "add packed lunch for" : "remove packed lunch for";
    if(!confirm(`Are you sure you want to ${action} ${day}?`)){ input.checked = !isChecked; return; }
    if(isChecked){ card.classList.remove("other-day"); card.classList.add("packed"); packedLunch[day]=true; }
    else { card.classList.remove("packed"); card.classList.add("other-day"); delete packedLunch[day]; }
    localStorage.setItem('packedLunch', JSON.stringify(packedLunch));
  });

  container.appendChild(card);
});
</script>
</body>
</html>
