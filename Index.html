<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Tomorrow's Lunch — Swansea Primary Menu 2025</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin:0; padding:20px; background:#f7f7f7;
  }
  h1 { text-align:center; margin-bottom:20px; }
  table {
    width:100%; border-collapse: collapse; box-shadow:0 2px 8px rgba(0,0,0,0.1);
  }
  th, td {
    padding:12px; border:1px solid #ddd; text-align:left; vertical-align:top;
  }
  th { background:#a3d9a5; color:#333; }
  td.other-day { background:#dfffe0; }
  td.tomorrow { background:#ffd1d1; }
  td.packed { background:#fff4b2; }
  .checkbox { margin-top:5px; }
  @media(max-width:600px) {
    table, thead, tbody, th, td, tr { display:block; }
    th { position:sticky; top:0; }
    tr { margin-bottom:10px; border-bottom:2px solid #ccc; }
    td { border:none; padding:8px 4px; }
  }
  footer { margin-top:20px; text-align:center; font-size:.85rem; color:#555; }
</style>
</head>
<body>
<h1>Primary School Menu — Full Week</h1>
<table id="menuTable">
  <thead>
    <tr>
      <th>Day</th>
      <th>Lunch</th>
      <th>Packed Lunch?</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
<footer>Baked salmon available every Friday as an alternative. Data last updated per Swansea Council 2025.</footer>

<script>
// Hard-coded menus (update each term)
const MENUS = {
  Monday: "Oven baked sausages / Vegetarian sausage\nAccompaniments\nFruit / Biscuit",
  Tuesday: "BBQ chicken wrap / Cheese and tomato pizza\nAccompaniments\nFruit yoghurt / Fresh fruit",
  Wednesday: "Cheesy beany jacket / Breaded chicken steak\nAccompaniments\nPancake and fruit",
  Thursday: "Cottage pie / Tomato pasta bake\nAccompaniments\nCookie / Fresh fruit",
  Friday: "Baked fish / Cheese wrap\nAccompaniments\nJam split and fruit wedge"
};

// Determine tomorrow, skip weekends
let tomorrow = new Date();
tomorrow.setDate(tomorrow.getDate()+1);
if(tomorrow.getDay()===6) tomorrow.setDate(tomorrow.getDate()+2); // Sat -> Mon
if(tomorrow.getDay()===0) tomorrow.setDate(tomorrow.getDate()+1); // Sun -> Mon

const weekdays = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
const tomorrowName = weekdays[tomorrow.getDay()];

// Load saved packed lunch selections from localStorage
let packedLunch = JSON.parse(localStorage.getItem('packedLunch') || '{}');

const tbody = document.querySelector("#menuTable tbody");
for(const day of ["Monday","Tuesday","Wednesday","Thursday","Friday"]){
  const tr = document.createElement("tr");
  const tdDay = document.createElement("td");
  tdDay.textContent = day;
  const tdMenu = document.createElement("td");
  tdMenu.textContent = MENUS[day] || "No data";

  // Set default colors
  if(day===tomorrowName) {
    tdDay.classList.add("tomorrow");
    tdMenu.classList.add("tomorrow");
  } else {
    tdDay.classList.add("other-day");
    tdMenu.classList.add("other-day");
  }

  // Override if packed lunch
  if(packedLunch[day]){
    tdDay.classList.remove("tomorrow","other-day");
    tdMenu.classList.remove("tomorrow","other-day");
    tdDay.classList.add("packed");
    tdMenu.classList.add("packed");
  }

  // Checkbox
  const tdCheck = document.createElement("td");
  const checkbox = document.createElement("input");
  checkbox.type = "checkbox";
  checkbox.classList.add("checkbox");
  checkbox.checked = !!packedLunch[day];
  checkbox.addEventListener("change",()=>{
    if(checkbox.checked){
      tdDay.classList.remove("tomorrow","other-day");
      tdMenu.classList.remove("tomorrow","other-day");
      tdDay.classList.add("packed");
      tdMenu.classList.add("packed");
      packedLunch[day]=true;
    } else {
      tdDay.classList.remove("packed");
      tdMenu.classList.remove("packed");
      if(day===tomorrowName){
        tdDay.classList.add("tomorrow");
        tdMenu.classList.add("tomorrow");
      } else {
        tdDay.classList.add("other-day");
        tdMenu.classList.add("other-day");
      }
      delete packedLunch[day];
    }
    localStorage.setItem('packedLunch',JSON.stringify(packedLunch));
  });
  tdCheck.appendChild(checkbox);

  tr.appendChild(tdDay);
  tr.appendChild(tdMenu);
  tr.appendChild(tdCheck);
  tbody.appendChild(tr);
}
</script>
</body>
</html>
